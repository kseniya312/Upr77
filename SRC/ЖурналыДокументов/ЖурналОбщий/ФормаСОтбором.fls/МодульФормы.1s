////////////////////////////////////////////////////////////////////////////////
// ПЕРЕМЕННЫЕ МОДУЛЯ
// 
Перем СписокДействий;  // Список действий по документу

////////////////////////////////////////////////////////////////////////////////
// ПРОЦЕДУРЫ И ФУНКЦИИ МОДУЛЯ
// 
//******************************************************************************
// РедактироватьРеквизиты()
//
// Параметры:
//  Нет
//
// Вызывается из формул элементов диалога:
//  Кнопка "Редактировать реквизиты документа".
//
// Описание:
//  Окрывает на редактирование документ.
//
Процедура РедактироватьРеквизиты()
	
	ОткрытьФорму("Отчет.РедактированиеРеквизитовДокумента#" + ЗначениеВСтрокуВнутр(ТекущийДокумент), ТекущийДокумент);
	
КонецПроцедуры // РедактироватьРеквизиты()   

//******************************************************************************
// ДействияПриОткрытии()
//
// Параметры: 
//  Нет
//
// Возвращаемое значение:
//  Нет
//
// Описание:
//  Вызывается при открытии и при повторном открытии
//
Процедура ДействияПриОткрытии()
	Парам = Форма.Параметр;
	
	// Это специальная форма журнала документов с отбором,
	// поэтому если не передан параметр, то форма не открывается
	Если ПустоеЗначение(Парам) = 1 Тогда
		СтатусВозврата(0);
		Возврат;
	КонецЕсли;
	
	// Запретим менять отбор
	ВидыОтбора("");

	ВидОтбора = Парам.Получить("ВидОтбора"); 
	Параметр  = Парам.Получить("Параметр");
	
	// Установим отбор   
	Если ВидОтбора = "ВидДокумента"  Тогда     
		УстановитьОтбор(Параметр);
	Иначе
		УстановитьОтбор(ВидОтбора, Параметр);
	КонецЕсли;
	
	Если Параметр = "ЗаявкаПокупателя" тогда
		Форма.ОбработкаВыбораСтроки(1);
	КонецЕсли;
	
КонецПроцедуры // ДействияПриОткрытии()


////////////////////////////////////////////////////////////////////////////////
// ПРЕДОПРЕДЕЛЕННЫЕ ПРОЦЕДУРЫ
// 
//******************************************************************************
// Предопределенная процедура.
//
Процедура ПриОткрытии()
	ДействияПриОткрытии();    
КонецПроцедуры // ПриОткрытии()

//******************************************************************************
// Предопределенная процедура.
//
Процедура ПриВыбореСтроки()
	
	Форма.Параметр = ТекущийДокумент; 
	Форма.Закрыть();
	
КонецПроцедуры // ПриВыбореСтроки()


//******************************************************************************
// Предопределенная процедура.
//
Процедура ПриПовторномОткрытии()
	ДействияПриОткрытии();	
КонецПроцедуры // ПриПовторномОткрытии()

////////////////////////////////////////////////////////////////////////////////
// ОПЕРАТОРЫ ОСНОВНОЙ ПРОГРАММЫ
// 
//Инициализирум список действий по кнопке "Действия"
СписокДействий = СоздатьОбъект("СписокЗначений");
СписокДействий.ДобавитьЗначение("Отчет о движениях документа");
СписокДействий.ДобавитьЗначение("Отчет о бухгалтерских проводках");
СписокДействий.ДобавитьЗначение("Структура подчиненности");
СписокДействий.ДобавитьЗначение("Ввести на основании");
СписокДействий.ДобавитьЗначение("Скопировать в...");

