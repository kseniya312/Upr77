//******************************************************************************
// ПоКнопкеОстатки()
//
// Параметры:
//  Нет
//
// Возвращаемое значение:
//  Нет
//
// Описание:
//  выводит отчет об остатках товаров на текущем складе
//
Процедура ПоКнопкеОстатки()
	
	Если ПустоеЗначение(ТекущийЭлемент()) = 1 Тогда
		Предупреждение("Не выбран склад", 60);
	Иначе
		Склад = ТекущийЭлемент();
		// создаем стандартную расшифровку отчета               
		Расшифровка = СоздатьОбъект("СписокЗначений");
		Расшифровка.Установить("Отчет", "ОстаткиТМЦ");
		
		// все настройки помещаем в список
		Расшифровка.Установить("ДатаКонца", 	Мин(РабочаяДата(),ПолучитьДатуТА()));
		Расшифровка.Установить("ВыбРазделитель1","");
		Расшифровка.Установить("ВыбРазделитель2","");
		Расшифровка.Установить("ВыбРазделитель3","");
		Расшифровка.Установить("ВидРазделителя",  1);
		
		Расшифровка.Установить("ВыбТМЦ",	     "");
		Расшифровка.Установить("ВыбСклад",		Склад);
		
		Расшифровка.Установить("ВидЕдиницы",	  1);
		Расшифровка.Установить("ПоказатьЦену",	Склад.РозничныйСклад);
		Расшифровка.Установить("ПоказатьСумму",	Склад.РозничныйСклад);
		Расшифровка.Установить("ПоказатьОстатки", 1);
		Расшифровка.Установить("Показатель",      1);
		
		глОбработкаРасшифровки(Расшифровка,"","");
	КонецЕсли;
	
КонецПроцедуры // ПоКнопкеОстатки()

//******************************************************************************
// ПолучитьВидСклада()
//
// Параметры:
//  Нет
//
// Возвращаемое значение:
//  0 -
// Описание:
//
Функция ПолучитьВидСклада()
	
	ТекЭлем = ТекущийЭлемент();
	
	Если ПустоеЗначение(ТекЭлем) = 1 Тогда
		Вид = "";
	Иначе
		Вид = ?(ТекЭлем.РозничныйСклад = 1,"Розничный","Оптовый");
	КонецЕсли;
	
	Возврат Вид;
	
КонецФункции // ПолучитьВидСклада()