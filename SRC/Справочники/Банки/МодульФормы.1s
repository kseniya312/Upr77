////////////////////////////////////////////////////////////////////////////////
// ПРЕДОПРЕДЕЛЕННЫЕ ПРОЦЕДУРЫ
// 
//******************************************************************************
// Предопределенная процедура.
//
Процедура ПриОткрытии();
	
	Если Форма.ТолькоПросмотр() = 1 Тогда
		Форма.кнЗаписать.Доступность(0);
		Форма.кнОК.Доступность(0);
		
		Форма.КнопкаПоУмолчанию("кнЗакрыть");
	Иначе
	    Форма.КнопкаПоУмолчанию("кнОк");
	КонецЕсли;
	
КонецПроцедуры // ПриОткрытии()

//******************************************************************************
// Предопределенная процедура.
//
Процедура ПриЗаписи()
	
	// Наименование банка.
	Если ПустаяСтрока(Наименование) = 1 Тогда
		Предупреждение("Не указано наименование банка!", 60);
		Активизировать("Наименование");
		СтатусВозврата(0); Возврат;
	КонецЕсли;

	// Местонахождение банка.
	Если ПустаяСтрока(Наименование) = 1 Тогда
		Предупреждение("Не указано местонахождение банка!", 60);
		Активизировать("Местонахождение");
		СтатусВозврата(0); Возврат;
	КонецЕсли;
	
	// БИК и КоррСчет.
	Если (СтрДлина(Код) = 9) И (ПустаяСтрока(КоррСчет) = 0) Тогда
		Если глПроверкаНомераСчета(КоррСчет, Код, КоррСчет) = 0 Тогда
			Если Вопрос("Возможно, номер корр.счета или БИК банка указаны неверно. Продолжить?", "Да+Нет", 60) <> "Да" Тогда
				Активизировать("КоррСчет");
				СтатусВозврата(0); Возврат;
			КонецЕсли;
		КонецЕсли;
	КонецЕсли;
	
КонецПроцедуры // ПриЗаписи()

////////////////////////////////////////////////////////////////////////////////
// ОПЕРАТОРЫ ОСНОВНОЙ ПРОГРАММЫ
