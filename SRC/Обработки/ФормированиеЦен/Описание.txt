В конфигурации предусмотрена возможность комплексного формирования цен на группу 
выбранных позиций номенклатуры. Процесс формирования цен можно разбить на два этапа: 
установка фильтра на список цен позиций номенклатуры и формирование цен (новых или 
изменение существующих).
 
Вызов обработки производится выбором пункта "Формирование цен" в меню "Справочники" / 
"Цены и налоги" / "Формирование цен". 

У с т а н о в к а  ф и л ь т р а  н а  с п и с о к  ц е н  п о з и ц и й  н о м е н к л а т у р ы    

В окне настройки требуется задать фильтры на элементы справочников "Цены" и 
"Номенклатура", чтобы отобрать из них подлежащие групповой обработке. Окно настройки имеет 
две закладки: "Основная" и "Множественный фильтр".

Все параметры фильтра (указанные на основной закладке и во множественном фильтре) 
действуют в совокупности.
В случае если множественный фильтр установлен, перед названием закладки "Множественный 
фильтр" устанавливается знак (!). Он виден и с основной закладки. 

Можно установить следующие фильтры:

Выберите обрабатываемые типы цен - отметить в списке те типы цен, значения которых 
необходимо обрабатывать. В данный список не попадают те типы цен, для которых в 
форме типы цен установлен флаг "Рассчитывается динамически (не хранится)".

ТМЦ/Группа - задать ТМЦ или группу ТМЦ, для которых необходимо изменить значение цены. 
С помощью множественного фильтра можно задать список ТМЦ или групп ТМЦ.

Позиции прайс-листа - если переключатель установлен в положение "Только включаемые в 
прайс-лист", будут отобраны те позиции, для которых в форме позиции 
номенклатуры не установлен флаг "Не включать в прайс", если переключатель 
установлен в положение "Только не включаемые в прайс-лист", будут отобраны те 
позиции, для которых в форме позиции номенклатуры установлен флаг "Не 
включать в прайс".

Наличие ТМЦ - задать фильтр по наличию ТМЦ на складе. Остаток ТМЦ рассчитывается, 
исходя из наличия ТМЦ в компании в целом (по всем фирмам и всем складам). 
Остаток может рассчитываться с учетом или без учета резерва (остатки за минусом 
резерва).

Наценка на базовую цену - задать фильтр сравнения. Сравнивается наценка, указанная в 
справочнике "Типы цен" и рассчитанная наценка на базовый тип цен. Данный 
фильтр имеет смысл только для тех типов цен, которые рассчитываются на 
основании базового типа цен (в справочнике "Типы цен" для них установлен флаг в 
поле "Рассчитывается и хранится").
 
Свойства - задать одно или несколько значений свойств ТМЦ. Фильтр по свойствам ТМЦ 
устанавливается только на закладке "Множественный фильтр".  

После задания фильтров и нажатия кнопки "Сформировать" открывается окно со списком 
позиций номенклатуры, отобранных для изменения цен. 

Ф о р м и р о в а н и е  ц  е  н 

В списке позиций номенклатуры отображается себестоимость 
позиции на текущую дату и цены на позиции (согласно установленному фильтру). 
В том случае, если в списке отобранных типов цен присутствуют цены, 
которые рассчитываются на основании базовых типов цен, то для них дополнительно 
отображается в отдельной графе рассчитанная по реальным значениям наценка на базовый тип цен.

В списке можно пометить какие-то из позиций с помощью клавиши Enter или двойного щелчка 
мыши, и провести необходимые действия с ценами по всем помеченным позициям. Чтобы пометить 
позицию, необходимо установить курсор на поле "Пометка".

В окне списка можно также пользоваться управляющими кнопками.

В поле "Цены показывать и устанавливать на" задается та дата, на которую необходимо задать 
значение цены. По умолчанию эта дата устанавливается равной текущей дате.
С ценами помеченных позиций можно производить следующие действия, управление которыми 
разделено на несколько групп элементов.


Сформировать или изменить цены на позиции номенклатуры

Ввести новое значение цены или изменить значение цены вручную можно непосредственно в 
списке обрабатываемых позиций. Для этого достаточно установить курсор на ячейку, в которой 
отображается значение цены на позицию номенклатуры, и нажать клавишу Enter или два раза 
щелкнуть левой клавишей мыши. Откроется стандартный диалог "Сведения о цене", в котором 
можно изменить значение цены или упаковку, за которую назначена цена или ввести новое 
значение.
Изменить цену можно и для списка отобранных позиций. Например, необходимо для отмеченных 
позиций установить оптовую цену, как розничная цена минус 20%. 
Для этого необходимо проделать следующие действия:
	Включить переключатель "Установить цену".
	Установить в выпадающих меню следующую формулу: Оптовая = Розничная - 20%.
Точно также можно сформировать и все остальные дополнительные цены на основе уже 
существующих цен или себестоимости ТМЦ. При этом надо иметь в виду, что если не задано 
значение цены базового типа, то новая цена сформирована не будет.
Цену можно изменить не только на процент, но и на абсолютную величину, выраженную в 
валюте, которая определена для данного типа цен. В этом случае вместо процентов в формуле 
устанавливается "Ед.валюты".  

Рассчитать все цены по наценкам

При выполнении данной обработки будут пересчитаны значения тех типов цен, для которых 
задан режим расчета на основании базового типа цен (те типы цен, для которых в справочнике 
"Типы цен" установлен флаг "Рассчитываются и хранятся"). Расчет производится в соответствии с 
заданным в справочнике "Цены" значением наценки и базовым типом цены. 


Пересчитать цены для другой упаковки позиции номенклатуры

Для того, чтобы пересчитать цены для другой упаковки позиции номенклатуры необходимо 
проделать следующие действия:
	Включить переключатель "Установить единицу".
	В выпадающем списке выбрать нужную единицу измерения из выпадающего списка, 
        сформированного в соответствии записей справочника "Классификатор" - "Единицы 
        измерения".
Цены будут пересчитаны в цены за выбранную единицу измерения, но только для тех 
номенклатурных позиций, у которых есть такая единица. Пересчет цен делается по коэффициентам 
пересчета количества, заданным в справочнике "Единицы ТМЦ".   

Пересчитать цены в другую валюту   

Для пересчета цен в другую валюту необходимо установить флаг "Установить валюту". 
В поле "Значение" можно выбрать валюту, указанную в типе цен. В том случае, если необходимо 
выбрать произвольное значение из справочника валют, то в этом поле выбирается "Значение", 
а в следующем поле из выпадающего списка выбирается валюта из справочника валют. 
Цены пересчитываются по курсу, указанному в справочнике валют на текущую дату.


Рассчитать цены комплектов    

При выполнении данной обработки будут рассчитаны цены комплектов.
Расчет производится исходя из заданного в справочнике "Состав комплекта" списка комплектующих 
и их цен. 

Округлить цены

В справочнике "Типы цен" задается порядок округления для данного типа цены. Однако иногда 
возникает необходимость изменить порядок округления цены для отдельных позиций номенклатуры 
или для группы позиций номенклатуры. Для этого нужно:
-	Включить переключатель "Округлить цену".
-	В выпадающем списке выбрать тип цены.
-	В выпадающем списке, справа от слово "до", выбрать порядок округления.  

Пометить на удаление (снять пометку удаления)

При выполнении данной обработки в зависимости от выбранного значения ("поставить" или 
"снять") все цены (кроме себестоимости) помечаются на удаление (или отменяется пометка на 
удаление).


Печать списка цен. Контроль цен

Печать списка цен производится по кнопке "Печать"в обработке "Формирование цен".
В списке цен показывается реальная наценка значения цены на базовый тип цен. Те цены, для 
которых значение наценки меньше заданного в справочнике "Типы цен" помечаются желтым 
цветом. 

Значения этих цен можно исправить вручную прямо из этой таблицы. Для этого достаточно 
установить курсор на ячейку, в которой отображается значение цены на позицию номенклатуры, и 
нажать клавишу Enter или два раза щелкнуть левой клавишей мыши. Откроется стандартный диалог 
"Сведения о цене", в котором можно изменить значение цены или упаковку, за которую назначена 
цена или ввести новое значение. После ввода нового значения цены будет автоматически 
пересчитана реальная наценка.
